### Задание 4. Защита доступа к кластеру Kubernetes

В этом задании вы поработаете над решением технической задачи. Вам необходимо организовать ролевой доступ к Kubernetes для пользователей кластера.

# Вот контекст и факты о ролевой модели:
- Большинство бизнес-сервисов разворачивается в среде Kubernetes. Необходимо ограничить доступ к управлению кластером для различных групп пользователей.
- Необходимо защитить кластер с помощью предоставления привилегированных действий (например, просмотра секретов) для определённых групп пользователей.
- Кроме привилегированных групп пользователей, необходимо выделить ещё минимум две группы пользователей. У первой группы есть право только на просмотр ресурсов кластера. Вторая другая группа пользователей может настраивать кластер.
- Необходимо разграничить доступ к ресурсам кластера, исходя из организационной структуры компании.
# Что нужно сделать
* Поднимите пустой Minikube. В этот раз вы будете работать без тестового приложения. Изучать код не нужно, поэтому сфокусируйтесь на подготовке скриптов. Они должны будут отражать решения, которые получились у вас по итогу работы над первыми тремя заданиями. Для этого вам понадобится пустой Minikube.
* Определите все роли и их полномочия при работе с Kubernetes. Мы подготовили шаблон таблицы. Заполните её: укажите там роли, их полномочия и группы пользователей, которые им соответствуют.
* Подготовьте скрипты для создания пользователей. Рекомендуем создать не менее двух пользователей.
* Подготовьте скрипты, чтобы создать роли. Они должны соответствовать ролям из вашей таблицы.
* Подготовьте скрипты, чтобы связать пользователей с ролями.

Когда вы выполните задание, у вас должно получиться три файла: по одному скрипту на третий, четвёртый и пятый пункты задания. Когда будете сдавать работу, загрузите заполненную таблицу и скрипты в директорию Task4 в рамках пул-реквеста.


### Решение:
| Роль                     | Права роли                                                                                              | Группы пользователей                                                    |
|--------------------------|---------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------|
| **secrets-manager**      | Управление секретами в namespace (доступ через `resourceNames`)                                         | Специалист по ИБ, DevOps                                                |
| **cluster-manager**      | Полный доступ к управлению узлами, namespace, pod, storage, конфигурациями и логами на уровне кластера. | DevOps                                                                  |
| **client-developer**     | Управление pod, service, configMap, deployment в namespace `client`. Доступ к логам и событиям.         | Разработчики, инженеры по эксплуатации, DevOps (функциональная команда) |
| **tenant-developer**     | Управление pod, service, configMap, deployment в namespace `tenant`. Доступ к логам и событиям.         | Разработчики, инженеры по эксплуатации, DevOps (функциональная команда) |
| **accounting-developer** | Управление pod, service, configMap, deployment в namespace `accounting`. Доступ к логам и событиям.     | Разработчики, инженеры по эксплуатации, DevOps (функциональная команда) |
| **analytics-developer**  | Управление pod, service, configMap, deployment в namespace `analytics`. Доступ к логам и событиям.      | Разработчики, инженеры по эксплуатации, DevOps (функциональная команда) |
| **client-viewer**        | Просмотр логов, состояния и метрик pod в namespace `client`. Нет прав на изменение конфигурации.        | Менеджеры (операционная команда)                                        |
| **tenant-viewer**        | Просмотр логов, состояния и метрик pod в namespace `tenant`. Нет прав на изменение конфигурации.        | Менеджеры (операционная команда)                                        |
| **accounting-viewer**    | Просмотр логов, состояния и метрик pod в namespace `accounting`. Нет прав на изменение конфигурации.    | Менеджеры (операционная команда)                                        |
| **analytics-viewer**     | Просмотр логов, состояния и метрик pod в namespace `analytics`. Нет прав на изменение конфигурации.     | Менеджеры (операционная команда)                                        |
| **logs-viewer**          | Доступ к логам и событиям всех namespace на уровне кластера (read-only).                                | Инженеры по эксплуатации                                                |
| **read-only-cluster**    | Доступ только на чтение ко всем объектам на уровне кластера. Нет прав на изменение конфигурации.        | Специалист по ИБ                                                        |
| **node-reader**          | Доступ к информации о состоянии узлов (node) без права на изменения.                                    | Инженеры по эксплуатации                                                |
| **ci-cd-runner**         | Доступ на создание и удаление pod в процессе выполнения CI/CD пайплайнов.                               | Jenkins/GitLab/GitHub Actions                                           |